app.controller("littleAppCtrl",["$scope","$ionicSideMenuDelegate",function(t,e){t.title="小应用",t.state=">",t.toggleLeft=function(){e.toggleLeft(),">"==t.state?t.state="<":t.state=">"}}]),app.controller("oilCtrl",["$rootScope","$scope","$http",function(t,e,o){o.get("--oilprice.php").success(function(t){console.log(t.result),e.b0=t.result[14].b0,e.b90=t.result[14].b90,e.b93=t.result[14].b93,e.b97=t.result[14].b97,e.city=t.result[14].city})}]),app.controller("weatherCtrl",["$rootScope","$scope","$http",function(t,e,o){o.jsonp("http://1.nodeweb.applinzi.com/getWeatherData",{params:{city:"深圳",callback:"JSON_CALLBACK"}}).success(function(t){console.log(t),e.data=t,e.today=t.result.today,e.future=t.result.future,e.sk=t.result.sk,console.log(e.today)})}]);
app.controller("mainCtrl",["$scope","$http",function(n,o){n.test="snoob";new Swiper(".swiper-container",{autoplay:5e3,pagination:".swiper-pagination",autoplayDisableOnInteraction:!1,loop:!0})}]);
app.controller("newCtrl",["$http","$scope","httpServer",function(e,n,t){n.page=0,n.newId="popular",n.articles=[];var o=t.getNewsType();o.then(function(e){n.newsType=e}),console.log(n.newId),n.click=function(){n.newId=this.newType.id,n.page=0,n.articles=[],console.log(n.newId),n.doRefresh()},n.doRefresh=function(){n.page++,console.log("刷新"+n.page);var e=t.getNews(n.newId,n.page);e.then(function(e){n.articles=e.data.article.concat(n.articles)}).finally(function(){n.$broadcast("scroll.refreshComplete")})},n.loadMore=function(){n.page++,console.log("刷新"+n.page);var e=t.getNews(n.newId,n.page);e.then(function(e){n.articles=n.articles.concat(e.data.article)}).finally(function(){n.$broadcast("scroll.infiniteScrollComplete")})},n.moreDataCanBeLoaded=function(){return 10!=n.page}}]);
app.config(["$stateProvider","$urlRouterProvider",function(t,l){l.when("","/main"),t.state("main",{url:"/main",templateUrl:"html/main.html",controller:"mainCtrl"}).state("new",{url:"/new",templateUrl:"html/new.html",controller:"newCtrl"}).state("littleApp",{url:"/littleApp",templateUrl:"html/littleApp.html",controller:"littleAppCtrl"}).state("littleApp.oil",{url:"/oil",templateUrl:"html/oil.html",controller:"oilCtrl"}).state("littleApp.weather",{url:"/weather",templateUrl:"html/weather.html",controller:"weatherCtrl"})}]);
app.service("httpServer",["$http","$q",function(e,r){return{getNewsType:function(){var n=r.defer();return e.get("json/newlist.json").success(function(e){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise},getNews:function(n,t){var s=r.defer();return e.jsonp("http://1.snoob.applinzi.com/getNews.php",{params:{newsType:n,count:t,callback:"JSON_CALLBACK"}}).success(function(e){s.resolve(e)}).error(function(e){s.reject(e)}),s.promise}}}]);